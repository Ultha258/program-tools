var n=require("@saasquatch/stencil-hooks"),t=require("lodash.startcase"),e=require("@emotion/css");function r(n){return n&&"object"==typeof n&&"default"in n?n:{default:n}}function o(n){if(n&&n.__esModule)return n;var t=Object.create(null);return n&&Object.keys(n).forEach(function(e){if("default"!==e){var r=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(t,e,r.get?r:{enumerable:!0,get:function(){return n[e]}})}}),t.default=n,t}var a=o(n),i=r(t);function l(){return(l=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function s(n,t){return t||(t=n.slice(0)),n.raw=t,n}const u=(n,t,...e)=>{let r=null,o=null,a=null,i=!1,l=!1,s=[];const u=t=>{for(let o=0;o<t.length;o++)r=t[o],Array.isArray(r)?u(r):null!=r&&"boolean"!=typeof r&&((i="function"!=typeof n&&!("object"==(e=typeof(e=r))||"function"===e))&&(r=String(r)),i&&l?s[s.length-1].$text$+=r:s.push(i?c(null,r):r),l=i);var e};if(u(e),t){t.key&&(o=t.key),t.name&&(a=t.name);{const n=t.className||t.class;n&&(t.class="object"!=typeof n?n:Object.keys(n).filter(t=>n[t]).join(" "))}}if("function"==typeof n)return n(null===t?{}:t,s,p);const d=c(n,null);return d.$attrs$=t,s.length>0&&(d.$children$=s),d.$key$=o,d.$name$=a,d},c=(n,t)=>({$flags$:0,$tag$:n,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),p={forEach:(n,t)=>n.map(d).forEach(t),map:(n,t)=>n.map(d).map(t).map(f)},d=n=>({vattrs:n.$attrs$,vchildren:n.$children$,vkey:n.$key$,vname:n.$name$,vtag:n.$tag$,vtext:n.$text$}),f=n=>{if("function"==typeof n.vtag){const t=Object.assign({},n.vattrs);return n.vkey&&(t.key=n.vkey),n.vname&&(t.name=n.vname),u(n.vtag,t,...n.vchildren||[])}const t=c(n.vtag,n.vtext);return t.$attrs$=n.vattrs,t.$children$=n.vchildren,t.$key$=n.vkey,t.$name$=n.vname,t};var y,b,g,m=e.css(y||(y=s(['\n  width: 100vw;\n  height: 100vh;\n\n  .story-book-outer-div {\n    .story-div {\n      font-family: "Arial", sans-serif;\n      font-size: 12px;\n    }\n    padding-bottom: 500px;\n  }\n\n  .story-div {\n    position: fixed;\n    box-sizing: border-box;\n    top: 0;\n    width: 250px;\n    height: 100vh;\n    z-index: 999;\n    overflow-y: scroll;\n    background: white;\n    margin-bottom: 32px;\n  }\n\n  .header {\n    padding: 24px 0 16px 16px;\n    margin-bottom: 24px;\n    color: white;\n    background: #333;\n\n    h2 {\n      letter-spacing: 3px;\n      font-weight: 400;\n    }\n  }\n\n  .parentStoryList {\n    list-style: none;\n    padding-left: 16px;\n\n    summary {\n      margin-bottom: 4px;\n    }\n  }\n  .parentStory {\n    cursor: pointer;\n  }\n  .parentStory.selected {\n    font-weight: bold;\n  }\n\n  .subStory {\n    font-size: 12px;\n    cursor: pointer;\n    line-height: 1.5em;\n    margin-top: 4px;\n\n    a {\n      display: block;\n      padding: 4px 4px 4px 16px;\n    }\n  }\n  .subStory:hover {\n    background-color: #eee;\n  }\n  .subStory.selected {\n    background-color: lightgreen;\n  }\n\n  .component {\n    padding: 24px 16px;\n  }\n\n  h4.group-header {\n    margin: 8px 0;\n    text-transform: uppercase;\n    font-weight: 600;\n    font-size: 14px;\n    color: #575757;\n  }\n\n  .group-wrapper {\n    margin-bottom: 24px;\n  }\n\n  .dynamic-display-wrapper {\n    position: fixed;\n    display: flex;\n    flex-direction: column;\n    bottom: 0;\n    left: 100%;\n    padding: 16px;\n    z-index: 1000;\n    background: white;\n    transform: translateX(-100%);\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n\n    & > :not(:first-child) {\n      margin-top: 12px;\n    }\n\n    p {\n      font-size: 12px;\n      margin: 0;\n      padding: 0;\n    }\n\n    .button-wrapper {\n      display: flex;\n\n      & > :not(:first-child) {\n        margin-left: 12px;\n      }\n    }\n\n    & button {\n      border: 1px solid #eaeaea;\n      background: white;\n      border-radius: 4px;\n      color: #777;\n      padding: 4px 12px;\n      justify-content: center;\n      align-items: center;\n      text-align: center;\n\n      &.active {\n        background: #555;\n        border-color: #555;\n        color: white;\n      }\n    }\n  }\n'])));function v(n,t){var e,r=t.story.title.split("/"),o=r[1]?r[0]:"_";return l({},n,((e={})[o]=[].concat(n[o]||[],[{story:l({},t.story,{title:r[1]||r[0]}),subs:t.subs}]).sort(function(n,t){return n.story.title.localeCompare(t.story.title)}),e))}function h(n){return{story:n.default,subs:function(n,t){if(null==n)return{};var e,r,o={},a=Object.keys(n);for(r=0;r<a.length;r++)t.indexOf(e=a[r])>=0||(o[e]=n[e]);return o}(n,["default"])}}exports.useStencilbook=function(n,t){var r=t.h,o=void 0===r?u:r,l=t.hooks,c=void 0===l?a:l,p=t.title,d=void 0===p?"Stencilbook":p,f=c.useMemo(function(){return n.map(h).reduce(v,{_:[]})},n),y=c.useState(void 0),x=y[0],k=y[1],$=null==x?void 0:x.key,w=c.useState("desktop"),S=w[0],j=w[1],O=c.useState(!0),C=O[0],z=O[1],_=c.useState(!1),q=_[0],N=_[1],A=function(){return o("div",{class:"dynamic-display-wrapper"},o("div",{class:"button-wrapper"},o("button",{class:"desktop"===S?"active":"",onClick:function(){return j("desktop")}},"Desktop"),o("button",{class:"tablet"===S?"active":"",onClick:function(){return j("tablet")}},"Tablet"),o("button",{class:"mobile"===S?"active":"",onClick:function(){return j("mobile")}},"Mobile")),o("p",null,"Note: Currently doesn't test breakpoints, use the native tester for now"),o("hr",null),o("button",{class:q?"active":"",onClick:function(){return N(function(n){return!n})}},"Toggle Dark Background"),o("hr",null),o("button",{class:C?"active":"",onClick:function(){return z(function(n){return!n})}},"Toggle Sidebar"))},D="mobile"===S?"375px":"tablet"===S?"768px":"1124px",E=e.css(b||(b=s(["\n    max-width: ",";\n    margin-left: ",";\n  "])),D,C?"250px":"0px"),M=e.css(g||(g=s(["\n    display: none;\n  "])));document.body.style.backgroundColor=q?"#232323":"#fafafa";var P=function(){return o("div",{class:"story-book-outer-div"},o("div",{class:"story-div "+(C?"":M)},o("div",{class:"header"},o("h2",null,d)),o("ul",{class:"parentStoryList"},Object.keys(f).sort().map(function(n){return o("div",{class:"group-wrapper"},"_"!==n&&o("h4",{class:"group-header"},n),f[n].map(function(n){return o("li",{class:"parentStory"},o("details",{style:{marginBottom:"10px"}},o("summary",{style:{outline:"none"}},n.story.title),n.subs&&Object.keys(n.subs).map(function(t){var e=n.subs[t],r=e.storyName||i.default(t);return o("div",{class:"subStory "+($===t?"selected":"")},o("a",{onClick:function(){k({key:t,story:e})}},r))})))}))}))),o(A,null),o("div",{class:"component "+E},!$&&o("h3",null,"Select a story!"),$&&o("div",null,o("h3",null,x.story.storyName||i.default($)),o(x.story,null))))};return{class:m,children:o(P,null),View:P,selected:x}};
//# sourceMappingURL=index.js.map
