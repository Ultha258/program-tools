/*! Built with http://stenciljs.com */
var __makeTemplateObject=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};WidgetComponents.loadBundle("jf3t5h3h",["exports","./chunk-0c8d3d95.js","./chunk-18186f60.js","./chunk-5e27bf52.js"],function(t,e,n,r){var a=window.WidgetComponents.h,o=function t(e,n,r){return e instanceof RegExp?function(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return t}(e,n):Array.isArray(e)?function(e,n,r){for(var a=[],o=0;o<e.length;o++)a.push(t(e[o],n,r).source);return new RegExp("(?:"+a.join("|")+")",m(r))}(e,n,r):function(t,e,n){return y(c(t,n),e,n)}(e,n,r)},i=c,p=f,s=y,l="/",u="./",d=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function c(t,e){for(var n,r=[],a=0,o=0,i="",p=e&&e.delimiter||l,s=e&&e.delimiters||u,c=!1;null!==(n=d.exec(t));){var f=n[0],m=n[1],y=n.index;if(i+=t.slice(o,y),o=y+f.length,m)i+=m[1],c=!0;else{var v="",b=t[o],w=n[2],x=n[3],E=n[4],j=n[5];if(!c&&i.length){var S=i.length-1;s.indexOf(i[S])>-1&&(v=i[S],i=i.slice(0,S))}i&&(r.push(i),i="",c=!1);var k=""!==v&&void 0!==b&&b!==v,C="+"===j||"*"===j,P="?"===j||"*"===j,A=v||p,T=x||E;r.push({name:w||a++,prefix:v,delimiter:A,optional:P,repeat:C,partial:k,pattern:T?g(T):"[^"+h(A)+"]+?"})}}return(i||o<t.length)&&r.push(i+t.substr(o)),r}function f(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var a="",o=r&&r.encode||encodeURIComponent,i=0;i<t.length;i++){var p=t[i];if("string"!=typeof p){var s,l=n?n[p.name]:void 0;if(Array.isArray(l)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but got array');if(0===l.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var u=0;u<l.length;u++){if(s=o(l[u],p),!e[i].test(s))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'"');a+=(0===u?p.prefix:p.delimiter)+s}}else if("string"!=typeof l&&"number"!=typeof l&&"boolean"!=typeof l){if(!p.optional)throw new TypeError('Expected "'+p.name+'" to be '+(p.repeat?"an array":"a string"));p.partial&&(a+=p.prefix)}else{if(s=o(String(l),p),!e[i].test(s))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but got "'+s+'"');a+=p.prefix+s}}else a+=p}return a}}function h(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function g(t){return t.replace(/([=!:$/()])/g,"\\$1")}function m(t){return t&&t.sensitive?"":"i"}function y(t,e,n){for(var r=(n=n||{}).strict,a=!1!==n.end,o=h(n.delimiter||l),i=n.delimiters||u,p=[].concat(n.endsWith||[]).map(h).concat("$").join("|"),s="",d=0===t.length,c=0;c<t.length;c++){var f=t[c];if("string"==typeof f)s+=h(f),d=c===t.length-1&&i.indexOf(f[f.length-1])>-1;else{var g=h(f.prefix),y=f.repeat?"(?:"+f.pattern+")(?:"+g+"(?:"+f.pattern+"))*":f.pattern;e&&e.push(f),f.optional?f.partial?s+=g+"("+y+")?":s+="(?:"+g+"("+y+"))?":s+=g+"("+y+")"}}return a?(r||(s+="(?:"+o+")?"),s+="$"===p?"$":"(?="+p+")"):(r||(s+="(?:"+o+"(?="+p+"))?"),d||(s+="(?="+o+"|"+p+")")),new RegExp("^"+s,m(n))}o.parse=i,o.compile=function(t,e){return f(c(t,e))},o.tokensToFunction=p,o.tokensToRegExp=s;var v=function(){function t(){this.ishidden=!1,this.statPaths=["/rewardBalance/:type/:unit/:valuetype?","/:statName"],this.statPathRegexp=this.statPaths.map(function(t){var e=[];return{regexp:o(t,e),keys:e}}),this.loading=!0}return t.prototype.componentWillLoad=function(){var t=this;if(!this.ishidden)return e.API.graphql.getStats().then(function(e){t.stats={referralsCount:e.referralsCount.totalCount,referralsMonth:e.referralsMonth.totalCount,referralsWeek:e.referralsWeek.totalCount,rewardsCount:e.rewardsCount.totalCount,rewardsMonth:e.rewardsMonth.totalCount,rewardsWeek:e.rewardsWeek.totalCount,rewardBalances:e.rewardBalances},t.loading=!1}).then(function(){Array.from(t.container.querySelectorAll("sqh-stat-component")).map(function(e){t.setStatValue(e)})}).catch(function(e){t.onError(e)})},t.prototype.statTypeUpdatedHandler=function(t){this.setStatValue(t.detail)},t.prototype.statAddedHandler=function(t){this.stats&&this.setStatValue(t.detail)},t.prototype.setStatValue=function(t){var e=t.getAttribute("stattype"),n=this.getStatFromPath(e);return t.setAttribute("statvalue",""+n),t},t.prototype.getStatFromPath=function(t){var e=this.statPathRegexp.find(function(e){return e.regexp.test(t)});if(!e)return 0;var n=e.keys,r=e.regexp.exec(t),a={};return n.forEach(function(t,e){return a[t.name]=r[e+1]}),this.getStatValue(a)},t.prototype.getStatValue=function(t){return t.statName?this.stats[t.statName]||0:this.getRewardBalance(t)},t.prototype.getRewardBalance=function(t){var e=t.type,n=t.unit,r=t.valuetype,a=n.replace(/_/,"/"),o=this.stats.rewardBalances.find(function(t){return t.type===e&&t.unit===a});return o?r?o[r]:o.value:0},t.prototype.onError=function(t){console.log("Error loading via GraphQL.",t),this.loading=!1},t.prototype.render=function(){var t=n.css(__makeTemplateObject(["\n      display: ",";\n      padding-top: ","px;\n      padding-bottom: ","px;\n    "],["\n      display: ",";\n      padding-top: ","px;\n      padding-bottom: ","px;\n    "]),this.ishidden?"none":"inherit",this.paddingtop,this.paddingbottom);return a("div",{class:t},a("slot",null))},Object.defineProperty(t,"is",{get:function(){return"sqh-stats-container"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{container:{elementRef:!0},ishidden:{type:Boolean,attr:"ishidden"},loading:{state:!0},paddingbottom:{type:String,attr:"paddingbottom"},paddingtop:{type:String,attr:"paddingtop"},stats:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"statTypeUpdated",method:"statTypeUpdatedHandler"},{name:"statAdded",method:"statAddedHandler"}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"sqh-stats-container{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}\@media (max-width:499px){sqh-stats-container{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}sqh-stats-container div{-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%}}"},enumerable:!0,configurable:!0}),t}();t.SqhStatsContainer=v,Object.defineProperty(t,"__esModule",{value:!0})});